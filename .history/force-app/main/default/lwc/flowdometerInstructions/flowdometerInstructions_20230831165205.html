<template>
    <!-- Welcome mat component -->
    <div class="slds-welcome-mat slds-welcome-mat_info-only">
        <div class="slds-welcome-mat__info">
            <h2 id="welcome-mat-label-1" class="slds-welcome-mat__info-title">Welcome to Flowdometer!</h2>
            <p class="slds-welcome-mat__info-description">Follow these steps to get started:</p>
        </div>
        <ul class="slds-welcome-mat__tiles">
            <template for:each={steps} for:item="step" for:index="index">
                <li key={step.label} class="slds-welcome-mat__tile slds-welcome-mat__tile_complete" data-index={index} onclick={handleStepCompleted}>
                    <div class="slds-welcome-mat__tile-figure">
                        <span class="slds-avatar slds-avatar_large">
                            <!-- You can add an icon or image here -->
                        </span>
                    </div>
                    <div class="slds-welcome-mat__tile-body">
                        <h3 class="slds-welcome-mat__tile-title">{step.label}</h3>
                        <p class="slds-welcome-mat__tile-description">{step.description}</p>
                        <iframe src={step.content} width="100%" height="300" title="Guide"></iframe>
                    </div>
                </li>
            </template>
        </ul>
    </div>

    <!-- Added modal component -->
    <c-modal onclose={handleClose}> <!-- Here is where the custom 'close' event will be captured -->
        <div slot="content">
            <!-- Note that {step.content} would need to be available in the scope for this to work -->
            {step.content}
        </div>
    </c-modal>
</template>
